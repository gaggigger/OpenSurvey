<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta charset="utf-8">
    <meta name="description" content="OpenSurvey is an audience interaction tool for conferences.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="keywords" content="OpenSurvey, audience, interaction, questions, voting, polls, polling, conferences, meetings">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#018786"/>
    <meta property="og:title" content="OpenSurvey" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://labs.openschedule.org/OpenSurvey/" />
    <meta property="og:image" content="https://media.licdn.com/dms/image/C4D03AQF7W7k47lbEMg/profile-displayphoto-shrink_200_200/0?e=1524675600&v=alpha&t=cER7dpfBfz-dcmRQYLLy785CQBLx6QOpUAYf3FBK1p0" />
    <link rel="manifest" href="manifest.json" />
    <title>OpenSurvey</title>
    <link rel="icon" href="favicon.ico" />
    <link href="css/main.css" rel="stylesheet" type="text/css">
    <script>
        function checkEs6() {
            "use strict";
            if (typeof Symbol === 'undefined') return false;
            try {
                eval("class Foo {}");
                eval("var bar = (x) => x+1");
            } catch (e) { return false; }
            return true;
        }
        if (!checkEs6()) {
            window.location.href = window.location.origin + window.location.pathname + 'legacy.html';
        }
    </script>
</head>
<body>
    <div id="app">
        <div id="mainloading" v-if="isLoading"></div>
        <app-header></app-header>
        <transition>
            <router-view />
        </transition>
    </div>

    <script type="text/javascript" src="js/config.js"></script>
    <script type="text/javascript" src="js/services/loader.js"></script>

    <script>
        if (window.location.hostname === 'localhost') {
            loadScript(false, 'js/libs/vuex.js', 'vuex');
            loadScript(false, 'js/libs/vue.js', 'vue');
            loadScript(false, 'js/libs/vue-router.js', 'vue-router');
        } else {
            loadScript(false, 'js/libs/vuex.min.js', 'vuex');
            loadScript(false, 'js/libs/vue.min.js', 'vue');
            loadScript(false, 'js/libs/vue-router.min.js', 'vue-router');
        }

        loadScript(false, 'js/services/storage.js', 'services-storage');
        loadScript(false, 'js/services/http.js', 'services-http');
        loadScript(false, 'js/services/auth.js', 'services-auth');
        loadScript(false, 'js/services/token.js', 'services-token');
        loadScript(false, 'js/services/event.js', 'services-event');

        loadScript(false, 'js/components/app-home.js', 'components-app-home');
        loadScript(false, 'js/components/app-header.js', 'components-app-header');
        loadScript(false, 'js/components/app-breadcrumb.js', 'components-app-breadcrumb');
        loadScript(false, 'js/components/app-user-logged.js', 'components-app-user-logged');
        loadScript(false, 'js/components/app-join.js', 'components-app-join');
    </script>

    <script>
        if (typeof fetch === 'undefined') {
            loadScript(false, 'js/services/fetch.js', 'fetch');
        }
        if (Storage.get('osu-token')) {
            loadScript(false, 'js/services/datehelpers.js', 'datehelpers');

            //loadScript(false, 'js/services/event.js', 'event');
            loadScript(false, 'js/services/quiz.js', 'quiz');

            loadScript(false, 'js/components/dashboard/app-dashboard.js', 'app-dashboard');
            loadScript(false, 'js/components/dashboard/app-dashboard-event.js', 'app-dashboard-event');
            loadScript(false, 'js/components/dashboard/app-dashboard-event-new.js', 'app-dashboard-event-new');
            loadScript(false, 'js/components/dashboard/app-dashboard-event-list.js', 'app-dashboard-event-list');
            loadScript(false, 'js/components/dashboard/app-dashboard-event-information.js', 'app-dashboard-event-information');
            loadScript(false, 'js/components/dashboard/app-dashboard-quiz-list.js', 'app-dashboard-quiz');
            loadScript(false, 'js/components/dashboard/app-dashboard-quiz-new.js', 'app-dashboard-event-quiz-new');
            loadScript(false, 'js/components/dashboard/app-dashboard-quiz.js', 'app-dashboard-event-quiz-item');
        } else {
            loadScript(false, 'js/components/login/app-login.js', 'app-login');
            loadScript(false, 'js/components/login/app-login-custom.js', 'app-login-custom');
            loadScript(false, 'js/components/login/app-login-google.js', 'app-login-google');
            loadScript(false, 'js/components/login/app-login-github.js', 'app-login-github');
            loadScript(false, 'js/components/login/app-login-facebook.js', 'app-login-facebook');
            loadScript(false, 'js/components/login/app-login-linkedin.js', 'app-login-linkedin');
        }
        loadScript(false, 'js/app.js', 'js-app');
    </script>

    <noscript>
        <h1>OpenSurvey</h1>
        <p>
            Audience interaction, realtime polling, quizz and Q&A platform for conferences
        </p>
        <article>
            <h2>Quiz</h2>
            <p>
                Test, rank  your audience and nominate the winner
            </p>
        </article>
        <article>
            <h2>Q&A</h2>
            <p>
                Give your audience the opportunity to ask questions
            </p>
        </article>
        <article>
            <h2>Polling</h2>
            <p>
                Poll your audience in real-time
            </p>
        </article>
        <article>
            <h2>White board</h2>
            <p>
                Share your text, code in real-time
            </p>
        </article>
        <article>
            <a href="legacy.html">Join an event</a>
        </article>
    </noscript>

    <link href="css/generic.css" rel="stylesheet" type="text/css">
    <link href="css/app.css" rel="stylesheet" type="text/css">

</body>
</html>