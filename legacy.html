<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta charset="utf-8">
    <meta name="description" content="OpenSurvey is an audience interaction tool for conferences.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="keywords" content="OpenSurvey, audience, interaction, questions, voting, polls, polling, conferences, meetings">
    <meta name="robots" content="index, follow">
    <title>OpenSurvey</title>
    <link rel="icon" href="favicon.ico" />
    <link href="css/main.css" rel="stylesheet" type="text/css">
</head>
<body>
    <section class="app-home bg-norepeat bg-center flex_h-center flex_v-center flex-column">
        <h1>OpenSurvey</h1>
        <article class="h-align-center font15 padding_1 margin_1 primary-font">
            Audience interaction,
            realtime polling, quizz and Q&A
            platform for conferences
        </article>
        <div class="surface padding_1_0">
            <div class="app-join padding_05_1 flex_h-center">
                <div class="join-prefix bold font15 padding_0_1 v-align-center">#</div>
                <input autocorrect="off"
                       autocapitalize="off"
                       name="search"
                       type="text"
                       id="eventcode"
                       aria-label="Enter event code"
                       placeholder="Enter event code"
                       autocomplete="off"
                       autofocus />
                <span
                        role="button"
                        tabindex="0"
                        onclick="goto()"
                        class="pointer primary join-button v-align-center h-align-center">
                    Join
                </span>
            </div>
        </div>
    </section>

    <script type="text/javascript" src="js/config.js"></script>
    <script type="text/javascript" src="js/services/http.js"></script>
    <script type="text/javascript" src="js/services/event.js"></script>

    <link href="css/generic.css" rel="stylesheet" type="text/css">
    <link href="css/app.css" rel="stylesheet" type="text/css">
    <script>
        function goto() {
            var eventcode = document.getElementById('eventcode').value;
            EventService.findByName(eventcode).then((function(event) {
                if(!event) {
                    alert("Event "+ eventcode +" doesn't exist");
                    return false;
                }
                window.location.href = './event.html#/' + event._id;
            }).bind(this));
        }
    </script>
</body>
</html>